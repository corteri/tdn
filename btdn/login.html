<html>

<head>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.js" integrity="sha512-otOZr2EcknK9a5aa3BbMR9XOjYKtxxscwyRHN6zmdXuRfJ5uApkHB7cz1laWk2g8RKLzV9qv/fl3RPwfCuoxHQ==" crossorigin="anonymous"></script>
<style>
    body {
      display: flex;
      min-height: 100vh;
      flex-direction: column;
    }

    main {
      flex: 1 0 auto;
    }

    body {
      background: #fff;
      background-image: url('./assets/giphy.gif');
      background-repeat: no-repeat;
      background-size: cover;
    }

    .input-field input[type=date]:focus + label,
    .input-field input[type=text]:focus + label,
    .input-field input[type=email]:focus + label,
    .input-field input[type=password]:focus + label {
      color: #e91e63;
    }

    .input-field input[type=date]:focus,
    .input-field input[type=text]:focus,
    .input-field input[type=email]:focus,
    .input-field input[type=password]:focus {
      border-bottom: 2px solid #e91e63;
      box-shadow: none;
    }
  </style>
</head>

<body>
  <div class="section">
<center><h4 style="color:white;font-family: monospace;">Welcome To The Universe Of Interconnected Daaps</h4>
<center><h4 style="color:white;font-family: monospace;">The Democratic Web</h4>

</center>
  </div>
  <main styles="
  ">
    <center>
     <div class="section"></div>

      <h5 class="indigo-text"></h5>
      <div class="section"></div>

      <div class="container">

        <div class="z-depth-1 white lighten-4 row" style="display: inline-block; padding: 32px 48px 0px 48px; border: 1px solid #EEE;right: 50%;
        bottom: 50%;
        transform: translate(50%,50%);
        position: absolute;">
          <div class="col s12">
            <div class='row'>
              <div class='col s12'>
      <img class="circle responsive-img" style="height:60px;width:60px;" src="./assets/logo.gif" />
              </div>
            </div>
<div id="change">
            <div class='row'>
              <div class='input-field col s12'>
                <input class='validate' type='number'  name='number' id='number' />
                <label for='number'>Enter your phone no.</label>
              </div>
            </div>

            <div class='row'>
              <div class='input-field col s12'>
                <input class='validate' type='password' name='password' id='password' />
                <label for='password'>Enter your password</label>
              </div>
              <label style='float: right;'>
								<a class='pink-text' href='#!'><b>Forgot Password?</b></a>
							</label>
            </div>
            </div>

            <br />
            <center>
              <div class='row'>
           <div id="newdata">     <button name='btn_login' class='col s12 btn btn-large waves-effect black' onclick="login()">Login</button></div>
              </div>
            </center>
          </div>
          <br>
          or
        <br>
          <h5>
          <a href="registration.html">Create account</a>
        </h5></div>
      </div>
    </center>
    <div class="section"></div>
    <div class="section"></div>
  </main>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
       <!-- <div class="row">
            <div class="col s12 m6">
            </div>
          </div>
          </div>
          <p>Registration</p>
          <div class="container">
            <div class="row">
                <div class="input-field col s6">
                  <input  id="firstname"  placeholder="Firstname" type="text" class="validate">
                  <input  id="lastname" placeholder="Lastname" type="text" class="validate">
                  <input  id="username" placeholder="Username" type="text" class="validate">
                  <input  id="email" type="text" placeholder="email" class="validate">
                  <input  id="number1" type="text" class="validate" placeholder="Phone">
                  <input  id="password1" type="text" class="validate" placeholder="Password">
                  <input type="button" onclick="register()" value="login" class="btn">
                </div>
              </div>-->
<script>
    function login()
    {
    let number = document.getElementById("number").value;
    let password = document.getElementById("password").value;
console.log(number+password);
let t = `<div class="spinner-layer spinner-green">
        <div class="circle-clipper left">
          <div class="circle"></div>
        </div><div class="gap-patch">
          <div class="circle"></div>
        </div><div class="circle-clipper right">
          <div class="circle"></div>
        </div>
      </div>
    </div>`;

    let b =` <button name='btn_login' class='col s12 btn btn-large waves-effect black' onclick="login()">Login</button>`;
    document.getElementById("newdata").innerHTML=t;
    axios.post("http://localhost:5555/login",{number:number,password:password}).then((response)=>
    {
        console.log(response,response);
        if(response.data.response==="1")
        {
            document.cookie=response.data.data;
            window.location.href="http://localhost:5500/profile1.html"
        }
        else
        {
            console.log("Wrong Password");
            alert("Wrong password");
    document.getElementById("newdata").innerHTML=b;

        }
    }).then((err)=>
    {
    document.getElementById("newdata").innerHTML=b;

        if(err)
        {
            throw err;
        }

    })
    }
    </script>
   <!-- <script>
      function register()
      {
      let number = document.getElementById("number1").value;
      let password = document.getElementById("password1").value;
      let firstname = document.getElementById("firstname").value;
      let lastname = document.getElementById("lastname").value;
      let username = document.getElementById("username").value;
      let email = document.getElementById("email").value;
      console.log(number+password);
      axios.post("http://localhost:5555/register",{number:number,password:password,email:email,firstname:firstname,lastname:lastname,username:username}).then((response)=>
      {
          console.log(response)
          if(response.data.response==="1")
          {
              alert("Registered")
          }
          else
          {
              alert("Registration Failed");
              console.log(response);
          }
      }).then((err)=>
      {
          if(err)
          {
              throw err;
          }
      })
      }
      </script>
    --></body>
</html>